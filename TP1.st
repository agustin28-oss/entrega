Error subclass: #DuracionInvalida	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!Error subclass: #HorarioInvalido	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!Object subclass: #Llamada	instanceVariableNames: 'duracion destinatario hora'	classVariableNames: ''	package: 'TP1-Algo3'!!Llamada methodsFor: 'as yet unclassified'!pais	^ destinatario.! !!Llamada methodsFor: 'as yet unclassified'!conPais: unPais	destinatario := unPais.! !!Llamada methodsFor: 'as yet unclassified'!conDuracion: unaDuracion	duracion := unaDuracion.! !!Llamada methodsFor: 'as yet unclassified'!horaLlamada 	^ hora.! !!Llamada methodsFor: 'as yet unclassified'!horarioHabil	hora < 0 ifTrue:[HorarioInvalido signal].	hora > 24 ifTrue:[HorarioInvalido signal].		(hora >= 8 & hora <= 20)ifTrue:[		^ true.	]. 		^ false.! !!Llamada methodsFor: 'as yet unclassified'!conHora: horario	hora := horario.! !!Llamada methodsFor: 'initialization'!initialize 	duracion := 0.	hora := 0.! !!Llamada methodsFor: 'accessing'!costoLlamada	^ self subclassResponsibility! !!Llamada methodsFor: 'accessing'!duracion 	^ duracion! !Llamada subclass: #LlamadaInternacional	instanceVariableNames: 'tarifa'	classVariableNames: ''	package: 'TP1-Algo3'!!LlamadaInternacional methodsFor: 'as yet unclassified'!costoLlamada	tarifa < 0 ifTrue:[TarifaInvalida signal].	duracion < 0 ifTrue:[DuracionInvalida signal].	(hora > 24)ifTrue:[HorarioInvalido signal].	(hora < 0)ifTrue:[HorarioInvalido signal].			^ (tarifa * duracion)! !!LlamadaInternacional methodsFor: 'as yet unclassified' stamp: 'Agustin 4/26/2022 16:04'!conTarifa: unaTarifa	tarifa := unaTarifa.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaInternacional class	instanceVariableNames: ''!!LlamadaInternacional class methodsFor: 'as yet unclassified'!conHora: horario ConDuracion: minutos yConTarifa: unaTarifa Hacia: pais	|l|	l := LlamadaInternacional new.	l conHora: horario.	l conDuracion: minutos.	l conPais: pais.	l conTarifa: unaTarifa. 	^ l.! !Error subclass: #LlamadaInvalida	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!Llamada subclass: #LlamadaNacional	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!!LlamadaNacional methodsFor: 'initialization'!initialize	destinatario := 'Argentina'! !!LlamadaNacional methodsFor: 'as yet unclassified'!costoLlamada	|costo|	duracion < 0 ifTrue:[DuracionInvalida signal].	[   		(self horarioHabil)ifTrue:[costo := (0.2 * duracion)].		(self horarioHabil)ifFalse:[costo := (0.1 * duracion)].	] on: (HorarioInvalido) do:[HorarioInvalido signal].	^ (costo - (self aplicarDescuento: costo)).! !!LlamadaNacional methodsFor: 'as yet unclassified'!aplicarDescuento: unCosto	(duracion >= 30)ifTrue:[		^(unCosto * 10/100).	].	^0.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!LlamadaNacional class	instanceVariableNames: ''!!LlamadaNacional class methodsFor: 'as yet unclassified'!conHora: horario yConDuracion: minutos	|l|	l := LlamadaNacional new.	l conDuracion: minutos.	l conHora: horario. 	l conPais: 'Argentina'.	^ l.! !Error subclass: #RegistroVacio	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!Error subclass: #TarifaInvalida	instanceVariableNames: ''	classVariableNames: ''	package: 'TP1-Algo3'!Object subclass: #TeleAlgo	instanceVariableNames: 'abono gasto registroLlamadas tarifaInternacional'	classVariableNames: ''	package: 'TP1-Algo3'!!TeleAlgo methodsFor: 'initialization'!initialize	gasto := 0.	abono := 0.	registroLlamadas := OrderedCollection new.! !!TeleAlgo methodsFor: 'accessing'!registrarLlamadaInternacionalCon: minutos HechaEnElHorario: unHorario Hacia: pais	| l gastoLlamada|	self tarifa notNil ifFalse: [ TarifaInvalida signal ].	l := LlamadaInternacional		     conHora: unHorario		     ConDuracion: minutos		     yConTarifa: tarifaInternacional		     Hacia: pais.	[gastoLlamada := l costoLlamada] on: HorarioInvalido, DuracionInvalida do: [ LlamadaInvalida signal].		gasto := gasto + gastoLlamada.  	registroLlamadas add: l! !!TeleAlgo methodsFor: 'accessing'!consultarPorLlamadaEfectuadaMasCostosa		|masCostosa|	registroLlamadas size = 0 ifTrue:[RegistroVacio signal].		masCostosa := registroLlamadas at: 1.	registroLlamadas do: [ :unaLlamada|		(unaLlamada costoLlamada > masCostosa costoLlamada)ifTrue:[masCostosa := unaLlamada].	].	^('La llamada mas costosa: La llamada se hizo a',' ',(masCostosa pais),' a las ',(masCostosa horaLlamada) asString,' hs durando ',(masCostosa 	duracion)asString,' minutos').				! !!TeleAlgo methodsFor: 'as yet unclassified'!calcularGastoFinal	^(gasto + abono).! !!TeleAlgo methodsFor: 'as yet unclassified'!registrarLlamadaNacionalConDuracion: minutos HechaEnElHorario: unHorario 	|l gastoPorLlamada|.		l := LlamadaNacional conHora: unHorario yConDuracion: minutos.		[gasto := gasto + l costoLlamada]on: DuracionInvalida,HorarioInvalido do:[LlamadaInvalida signal].	registroLlamadas add: l.! !!TeleAlgo methodsFor: 'as yet unclassified'!aplicarTarifaPorMinutoALlamadaInternacional: tarifa	tarifa < 0 ifTrue:[TarifaInvalida signal].	tarifaInternacional := tarifa.! !!TeleAlgo methodsFor: 'as yet unclassified'!conAbono: unAbono	abono := unAbono.! !!TeleAlgo methodsFor: 'as yet unclassified'!tarifa 	^ tarifaInternacional! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!TeleAlgo class	instanceVariableNames: ''!!TeleAlgo class methodsFor: 'as yet unclassified'!conAbonoMensual: unAbono	|t|	t := TeleAlgo new.	t conAbono: unAbono.	^t.! !